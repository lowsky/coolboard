type Board {
  id: ID! @id @unique
  lists: [List!]! @relation(link: TABLE)
  name: String!

  #createdBy: User
  updatedBy: User @relation(link: TABLE)

  # Optional system fields, used for tracking changes
  createdAt: DateTime! @createdAt # read-only (managed by Graphcool)
  updatedAt: DateTime! @updatedAt# read-only (managed by Graphcool)
}

type List {
  cards: [Card!]!
  id: ID! @id @unique
  name: String!
  #createdBy: User
  updatedBy: User @updatedBy @relation(link: TABLE)

  # Optional system fields, used for tracking changes
  createdAt: DateTime! @createdAt# read-only (managed by Graphcool)
  updatedAt: DateTime! @updatedAt# read-only (managed by Graphcool)
}

type Card {
  id: ID! @id @unique
  name: String!
  description: String @default(value: "")

  #updatedBy: User @relation(name: "UpdatedBy")
  createdBy: User @relation(link: TABLE)

  # Optional system fields, used for tracking changes
  createdAt: DateTime! @createdAt# read-only (managed by Graphcool)
  updatedAt: DateTime! @updatedAt# read-only (managed by Graphcool)
}

type User {
  id: ID! @id @unique

  #orig
  email: String! @unique
  #not needed anymore: password: String!
  name: String!
  avatarUrl: String @default(value:"")
  boards: [Board!]!

  #new, needed for prisma-auth0:
  auth0id: String @unique
  identity: String


  # Optional system fields, used for tracking changes
  createdAt: DateTime! @createdAt# read-only (managed by Graphcool)
  updatedAt: DateTime! @updatedAt# read-only (managed by Graphcool)
}
